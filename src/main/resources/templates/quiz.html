<!DOCTYPE html>
<html>
<head>

    <title>Teori-pr√∏ven</title>
    <div th:replace="~{fragments :: imports}"></div>
</head>
<body>
<div th:replace="~{fragments :: header}"></div>
<div class="container mt-5">
    <h1 class="text-center mb-5">Quiz test</h1>

    <div th:fragment="question" id="question-container">

        <h2 th:text="${question.question}" class="text-center mb-24"></h2>
        <div class="row" id="answer-and-image-container">
            <div class="col-lg-6 order-lg-2" id="answer-container">
                <ul class="list-group">
                    <th:block th:each="answer : ${question.answers}">
                        <li class="list-group-item answer-li " th:value="${answer.questionAlternative}"
                            th:data-correct-answer="${answer.isCorrect}" th:text="${answer.questionAlternative}" onclick="selectAnswer(this)"></li>
                    </th:block>
                </ul>
            </div>

            <div class="col-lg-6 order-lg-1" id="question-image-container">
                <div style="width:550px; height:300px;" id="quiz-image-container">
                    <img th:if="${question.imageNormal != null && question.imageNormal != ''}"
                         th:src="@{/question/image/{id}(id=${question.id})}"
                         alt="question image"
                         class="img-thumbnail"
                         style="width:550px; height:300px;"/>
                </div>
            </div>
        </div>
        <div id="question-buttons-container" class="d-flex justify-content-center">
            <button hx-post="/submit_answer"
                    hx-target="#question-container"
                    class="btn btn-primary mr-3">Neste
            </button>
            <button class="btn btn-secondary" onclick="toggleExplanation()"
                    id="explanation-button">Vis Fasit
            </button>

        </div>


        <div class="row mt-5 " id="explanation-container" style="display:none;">
            <div class="bg-light p-5 rounded-lg m-3">
                <h3>Forklaring</h3>
                <p th:utext="${question.explanation}"></p>
            </div>
        </div>
    </div>
</div>

<script>
    function toggleExplanation() {
        document.getElementById("explanation-container").style.display =
            (document.getElementById("explanation-container").style.display === "none") ? "block" : "none";
    }

    function selectAnswer(element) {
        // Remove "active" class from all list items
        var listItems = document.getElementsByClassName("list-group-item");
        for (var i = 0; i < listItems.length; i++) {
            listItems[i].classList.remove("list-group-item-primary");
        }

        // Add "active" class to selected list item
        element.classList.add("list-group-item-primary");
    }

</script>

<style>
    .answer-li {
        font-size: 18px;
        height: 25%;
    }

</style>
</body>

</html>