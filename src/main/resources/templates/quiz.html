<!DOCTYPE html>
<html>
<head>
    <title>Teori-pr√∏ven</title>
    <div th:replace="~{fragments :: imports}"></div>
</head>
<body>
<div th:replace="~{fragments :: header}"></div>
<div class="container mt-5">
    <h1 class="text-center mb-5">Quiz test</h1>

    <div th:fragment="question" id="question-container">

        <div class="row">
            <div class="col-lg-6 order-lg-2">
                <h3 th:text="${question.question}"></h3>
                <div th:each="answer : ${question.answers}">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="answer"
                               th:value="${answer.questionAlternative}"
                               th:text="${answer.questionAlternative}">
                        <label class="form-check-label" th:classappend="${answer.isCorrect} ? 'text-success' : ''"
                               th:text="${answer.questionAlternative}"></label>
                    </div>
                </div>
                <button hx-post="/submit_answer" hx-target="#question-container" class="btn btn-primary mr-3">Next
                </button>
                <button class="btn btn-secondary" id="explanation-button" onclick="showExplanation()">Show Explanation
                </button>
            </div>
            <div class="col-lg-6 order-lg-1">
                <div style="width:550px; height:300px;" id="quiz-image-container">
                    <img th:if="${question.imageNormal != null && question.imageNormal != ''}"
                         th:src="@{/question/image/{id}(id=${question.id})}"
                         alt="question image"
                         class="img-thumbnail"
                         style="width:550px; height:300px;"/>
                </div>
            </div>
        </div>

        <div class="row mt-5 " id="explanation-container" style="display:none;">
            <div class="bg-light p-5 rounded-lg m-3">
                <h3>Forklaring</h3>
                <p th:utext="${question.explanation}"></p>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById("explanation-button").addEventListener("click", function () {
        var explanationContainer = document.getElementById("explanation-container");
        if (explanationContainer.style.display === "none") {
            explanationContainer.style.display = "block";
        } else {
            explanationContainer.style.display = "none";
        }
    });
</script>


</body>

</html>